/*
 * lora_fz.h
 *
 *  Created on: Jul 15, 2025
 *      Author: liufangzheng
 */

#ifndef INC_LORA_FZ_H_
#define INC_LORA_FZ_H_

#include <stdio.h>
#include <stdbool.h>
#include <string.h>
#include <stdarg.h>

#include "main.h"
#include "stm32f7xx_hal.h"
#include "lora_reg.h"

typedef enum {
    ROLE_NONE = 0,
    ROLE_TX,
    ROLE_RX
} Role;

extern volatile bool RF95_TX_DONE_FLAG;
extern volatile bool RF95_RX_DONE_FLAG;
extern volatile bool RF95_CAD_DONE_FLAG;

uint8_t RF95_ReadReg(uint8_t addr);
void    RF95_WriteReg(uint8_t addr, uint8_t data);

void RF9597_Init(Role role, unsigned int frequency, unsigned int BW, unsigned int SF, unsigned int CR);

#endif /* INC_LORA_FZ_H_ */
