/*
 * lora_fz.h
 *
 *  Created on: Jul 15, 2025
 *      Author: liufangzheng
 */

#ifndef INC_LORA_FZ_H_
#define INC_LORA_FZ_H_

#include <stdio.h>
#include <stdbool.h>
#include <string.h>
#include <stdarg.h>

#include "main.h"
#include "stm32f7xx_hal.h"
#include "lora_reg.h"

enum Role {
    ROLE_NONE = 0,
    ROLE_TX,
    ROLE_RX
};

extern volatile bool RF95_TX_DONE_FLAG;
extern volatile bool RF95_RX_DONE_FLAG;
extern volatile bool RF95_CAD_DONE_FLAG;

u_int8_t RF95_ReadReg(u_int8_t addr);

void RF9597_Init(Role role,
                 unsigned int frequency = 915E6, 
                 unsigned int BW = 125E3, 
                 unsigned int SF = 7, 
                 unsigned int CR = 5);

#endif /* INC_LORA_FZ_H_ */
